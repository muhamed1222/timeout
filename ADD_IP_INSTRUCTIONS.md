# üîß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –≤ Supabase Allowlist

## –í–∞—à IP –∞–¥—Ä–µ—Å
**IPv4:** `85.203.42.223`

## –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
   - –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞: https://supabase.com/dashboard/project/chkziqbxvdzwhlucfrza/settings/database

2. **–ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Network Restrictions" –∏–ª–∏ "Connection Pooling"**

3. **–î–æ–±–∞–≤—å—Ç–µ IP –∞–¥—Ä–µ—Å:**
   - –ù–∞–∂–º–∏—Ç–µ "Add IP address" –∏–ª–∏ "Add current IP"
   - –í–≤–µ–¥–∏—Ç–µ: `85.203.42.223`
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "Add current IP" (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)

4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   - –ù–∞–∂–º–∏—Ç–µ "Save" –∏–ª–∏ "Save changes"

5. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   npm run db:health
   ```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
./scripts/add-ip-to-supabase.sh
```

–û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—à IP –∏ –æ—Ç–∫—Ä–æ–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è IP

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è IP –∞–¥—Ä–µ—Å–∞ –≤ allowlist, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
npm run dev
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—à–∏–±–∫–∞ "Address not in tenant allow_list" –∏—Å—á–µ–∑–ª–∞:
```bash
curl http://localhost:3001/api/health | jq '.services.database'
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```json
{
  "status": "ok",
  "message": "Database connection successful"
}
```

