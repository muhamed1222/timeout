# –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã"

## üìã –û–±–∑–æ—Ä

–°—Ç—Ä–∞–Ω–∏—Ü–∞ `/client/src/pages/Schedules.tsx` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ —Ä–∞–±–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ (—Ä–∞–±–æ—á–∏–µ –¥–Ω–∏, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã)
- –ù–∞–∑–Ω–∞—á–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–º–µ–Ω—ã –∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–º–µ–Ω –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í `server/routes/companies.ts` —Å—Ç—Ä–æ–∫–∞ 128:
```typescript
const template = templates[0]; // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω!
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –í–°–ï–• —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `employee_schedule`
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —Å–º–µ–Ω—ã –∏–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```
1. –°–æ–∑–¥–∞–Ω –≥—Ä–∞—Ñ–∏–∫ "–û—Ñ–∏—Å –ü–Ω-–ü—Ç 9:00-18:00"
2. –°–æ–∑–¥–∞–Ω –≥—Ä–∞—Ñ–∏–∫ "–£–¥–∞–ª–µ–Ω–∫–∞ –ü–Ω-–°–± 10:00-19:00"
3. –°–æ—Ç—Ä—É–¥–Ω–∏–∫—É A –Ω–∞–∑–Ω–∞—á–µ–Ω –≥—Ä–∞—Ñ–∏–∫ "–£–¥–∞–ª–µ–Ω–∫–∞"
4. –°–æ—Ç—Ä—É–¥–Ω–∏–∫—É B –Ω–∞–∑–Ω–∞—á–µ–Ω –≥—Ä–∞—Ñ–∏–∫ "–û—Ñ–∏—Å"
5. –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ - –û–ë–ê –ø–æ–ª—É—á–∞—é—Ç —Å–º–µ–Ω—ã –∏–∑ "–û—Ñ–∏—Å" (–ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω)
```

**–û–∂–∏–¥–∞–µ–º–∞—è –ª–æ–≥–∏–∫–∞:**
```
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
1. –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –¥–∞—Ç—É (—á–µ—Ä–µ–∑ employee_schedule)
2. –ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ
3. –ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
```

### 2. –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í `generate-shifts` –Ω–µ—Ç –≤—ã–∑–æ–≤–∞ `repositories.schedule.findActiveEmployeeSchedule()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –¥–∞—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
for (const employee of targetEmployees) {
  // –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
  const activeSchedule = await repositories.schedule.findActiveEmployeeSchedule(
    employee.id,
    date
  );
  
  if (!activeSchedule) {
    // –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –∏–º–µ–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
    continue; // –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω
  }
  
  const template = templates.find(t => t.id === activeSchedule.schedule_id);
  const rules = template?.rules as any;
  
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≥—Ä–∞—Ñ–∏–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
  const validFrom = new Date(activeSchedule.valid_from);
  const validTo = activeSchedule.valid_to ? new Date(activeSchedule.valid_to) : null;
  
  if (date < validFrom || (validTo && date > validTo)) {
    continue; // –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
  }
  
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
- –ö–∞–∫–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫
- –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- –°–∫–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å:
- –ó–∞–ø—Ä–æ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤: `/api/companies/:companyId/employee-schedules`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –≥—Ä–∞—Ñ–∏–∫–∞: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 5 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏"
- –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫

## üìù –î–†–£–ì–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 4. –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞—Ç –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ `endDate >= startDate`
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –¥–∞—Ç—ã –≤ –±—É–¥—É—â–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π)

### 5. –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–º–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç —Å–º–µ–Ω—ã, –Ω–æ –µ—Å–ª–∏ —Å–º–µ–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –¥–∞—Ç—É - –æ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è. –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ:
- –°–∫–æ–ª—å–∫–æ —Å–º–µ–Ω –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ
- –°–∫–æ–ª—å–∫–æ —Å–º–µ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ
- –ö–∞–∫–∏–µ –¥–∞—Ç—ã –±—ã–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ã

### 6. –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ï—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.

**–ü—Ä–∏–º–µ—Ä:**
```
–ì—Ä–∞—Ñ–∏–∫ A: 01.01.2025 - 15.01.2025 (–ü–Ω-–ü—Ç 9:00-18:00)
–ì—Ä–∞—Ñ–∏–∫ B: 16.01.2025 - 31.01.2025 (–ü–Ω-–°–± 10:00-19:00)

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –≤–µ—Å—å –º–µ—Å—è—Ü –¥–æ–ª–∂–Ω–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ–±–∞ –≥—Ä–∞—Ñ–∏–∫–∞.
```

### 7. –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω –≥—Ä–∞—Ñ–∏–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å
- –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

## üîß –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å generate-shifts –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤**
   - –§–∞–π–ª: `server/routes/companies.ts` —Å—Ç—Ä–æ–∫–∞ 127-165
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –¥–∞—Ç—ã –Ω–∞—Ö–æ–¥–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ `findActiveEmployeeSchedule`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ generate-shifts**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `endDate >= startDate`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç (–º–∞–∫—Å. 1 –≥–æ–¥?)
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–º–µ–Ω

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):

3. **–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤**
   - –ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç: `GET /api/companies/:companyId/employee-schedules`
   - –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –≥—Ä–∞—Ñ–∏–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π

4. **–£–ª—É—á—à–∏—Ç—å UX –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**
   - –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä: —Å–∫–æ–ª—å–∫–æ —Å–º–µ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ
   - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–º–µ–Ω–∞—Ö
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):

5. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤**
   - –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –≥—Ä–∞—Ñ–∏–∫–∞
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤

6. **–î–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤**
   - –í—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   - –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ–¥–∏–Ω –≥—Ä–∞—Ñ–∏–∫ –≤—Å–µ–º —Å—Ä–∞–∑—É

7. **–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**
   - –û–ø—Ü–∏—è "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–º–µ–Ω—ã –Ω–∞ –º–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥"
   - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üìä –¢–ï–ö–£–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
ScheduleTemplate (—à–∞–±–ª–æ–Ω –≥—Ä–∞—Ñ–∏–∫–∞)
‚îú‚îÄ‚îÄ id, company_id, name
‚îî‚îÄ‚îÄ rules: { workdays: [], shift_start: "", shift_end: "" }

EmployeeSchedule (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞)
‚îú‚îÄ‚îÄ employee_id, schedule_id
‚îú‚îÄ‚îÄ valid_from, valid_to
‚îî‚îÄ‚îÄ –°–≤—è–∑—å —Å ScheduleTemplate —á–µ—Ä–µ–∑ schedule_id

Shift (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–º–µ–Ω–∞)
‚îú‚îÄ‚îÄ employee_id
‚îú‚îÄ‚îÄ planned_start_at, planned_end_at
‚îî‚îÄ‚îÄ status: 'planned' | 'active' | 'completed'
```

## üîÑ –ü–†–ê–í–ò–õ–¨–ù–´–ô FLOW

1. **–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞:**
   - –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–µ—Ç —à–∞–±–ª–æ–Ω ‚Üí `ScheduleTemplate`

2. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞:**
   - –ê–¥–º–∏–Ω –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É ‚Üí `EmployeeSchedule`
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è (valid_from, valid_to)

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–º–µ–Ω:**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –ø–µ—Ä–∏–æ–¥–µ:
     - –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –¥–∞—Ç—É (—á–µ—Ä–µ–∑ EmployeeSchedule)
     - –ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫ –Ω–∞–π–¥–µ–Ω ‚Üí —Å–æ–∑–¥–∞—Ç—å Shift –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –≥—Ä–∞—Ñ–∏–∫–∞
     - –ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π

4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–æ–º:**
   - –ë–æ—Ç –≤–∏–¥–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ Shift (–Ω–µ ScheduleTemplate!)
   - –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤–∏–¥–∏—Ç —Å–≤–æ—é –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–º–µ–Ω—É

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û

1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
2. ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
3. ‚úÖ UI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–º–µ–Ω (–∫–Ω–æ–ø–∫–∞, –¥–∏–∞–ª–æ–≥)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–º–µ–Ω (–Ω–µ —Å–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã)
5. ‚úÖ –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

**–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å generate-shifts –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É activeEmployeeSchedule –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:**
3. –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. –£–ª—É—á—à–∏—Ç—å UX –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä, –ø—Ä–æ–≥—Ä–µ—Å—Å)

**–í –±—É–¥—É—â–µ–º:**
5. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–º–µ–Ω
7. –ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

