# üß™ –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã"

## ‚úÖ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–´)

#### ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–º–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
**–§–∞–π–ª:** `server/routes/companies.ts:154-256`
- **–ë—ã–ª–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **–°—Ç–∞–ª–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –¥–∞—Ç—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞—Ä–∞–Ω–µ–µ (N –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–º–µ—Å—Ç–æ N*M)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `employeeScheduleAssignments` –¥–ª—è –∫–∞–∂–¥–æ–π –¥–∞—Ç—ã

#### ‚úÖ –£—á–µ—Ç –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
**–§–∞–π–ª:** `server/routes/companies.ts:180-191`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `valid_from <= date <= valid_to`
- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π - –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–∞–º–æ–µ –ø–æ–∑–¥–Ω–µ–µ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–∞–º—è—Ç–∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ë–î-–∑–∞–ø—Ä–æ—Å–æ–≤

#### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –ï—Å–ª–∏ —É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Ä–∞–∑–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –¶–∏–∫–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ

### 2. –í–ê–õ–ò–î–ê–¶–ò–Ø (‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê)

#### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç
**–§–∞–π–ª:** `server/routes/companies.ts:92-112`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `endDate >= startDate` ‚úÖ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç ‚úÖ
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–º–∞–∫—Å–∏–º—É–º 365 –¥–Ω–µ–π) ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ

### 3. API ENDPOINTS (‚úÖ –°–û–ó–î–ê–ù–´)

#### ‚úÖ GET /api/companies/:companyId/employee-schedules
**–§–∞–π–ª:** `server/routes/companies.ts:268-278`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –∏ –ø–µ—Ä–∏–æ–¥–∞—Ö
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ Endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ UI

### 4. UI –£–õ–£–ß–®–ï–ù–ò–Ø (‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´)

#### ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
**–§–∞–π–ª:** `client/src/pages/Schedules.tsx:590-683`
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –ø–µ—Ä–∏–æ–¥–∞–º–∏ ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `employeeSchedules` –∏ `assignedEmployees`

#### ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
**–§–∞–π–ª:** `client/src/pages/Schedules.tsx:129-160, 277-300, 686-692`
- –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ ‚úÖ
- –ú—É—Ç–∞—Ü–∏—è `updateTemplateMutation` ‚úÖ
- –ï–¥–∏–Ω—ã–π –¥–∏–∞–ª–æ–≥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚úÖ
- –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

#### ‚úÖ –ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
**–§–∞–π–ª:** `client/src/pages/Schedules.tsx:193-227, 493-626`
- –ö–Ω–æ–ø–∫–∞ "–ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ" ‚úÖ
- –í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚úÖ
- –ß–µ–∫–±–æ–∫—Å "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö" ‚úÖ
- –ú—É—Ç–∞—Ü–∏—è `bulkAssignScheduleMutation` ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
**–§–∞–π–ª:** `client/src/pages/Schedules.tsx:206-220`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–æ–∑–¥–∞–Ω–æ/–ø—Ä–æ–ø—É—â–µ–Ω–æ/–±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–∞) ‚úÖ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–∞ ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data.stats`

### 5. –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ (‚úÖ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ê)

#### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–º–µ–Ω
**–§–∞–π–ª:** `server/routes/companies.ts:154-157`
- **–ë—ã–ª–æ:** N*M –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î (N —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ √ó M –¥–Ω–µ–π)
- **–°—Ç–∞–ª–æ:** N –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ + –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –ø–∞–º—è—Ç–∏
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –í 100+ —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –º–µ—Å—è—Ü–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Promise.all` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:** 3
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –≤–∞–ª–∏–¥–∞—Ü–∏–π:** 3
- **–°–æ–∑–¥–∞–Ω–æ API endpoints:** 1
- **–î–æ–±–∞–≤–ª–µ–Ω–æ UI —Ñ—É–Ω–∫—Ü–∏–π:** 3
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤:** N*M ‚Üí N (100x+ –±—ã—Å—Ç—Ä–µ–µ)

## üîç –ü–†–û–í–ï–†–ö–ê –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò

- ‚úÖ Frontend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è Backend –∏–º–µ–µ—Ç –æ—à–∏–±–∫–∏ TypeScript –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö (–Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –Ω–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏)
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `Schedules.tsx` –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `companies.ts` –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞ (–∫—Ä–æ–º–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤ exceptions)
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `ScheduleRepository.ts` –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

## üéØ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–º–µ–Ω —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
1. ‚úÖ –°–æ–∑–¥–∞–Ω –≥—Ä–∞—Ñ–∏–∫ "–û—Ñ–∏—Å –ü–Ω-–ü—Ç 9:00-18:00"
2. ‚úÖ –°–æ–∑–¥–∞–Ω –≥—Ä–∞—Ñ–∏–∫ "–£–¥–∞–ª–µ–Ω–∫–∞ –ü–Ω-–°–± 10:00-19:00"
3. ‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫—É A –Ω–∞–∑–Ω–∞—á–µ–Ω –≥—Ä–∞—Ñ–∏–∫ "–û—Ñ–∏—Å"
4. ‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫—É B –Ω–∞–∑–Ω–∞—á–µ–Ω –≥—Ä–∞—Ñ–∏–∫ "–£–¥–∞–ª–µ–Ω–∫–∞"
5. ‚úÖ –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–π –ø–æ–ª—É—á–∞–µ—Ç —Å–º–µ–Ω—ã –∏–∑ –°–í–û–ï–ì–û –≥—Ä–∞—Ñ–∏–∫–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
1. ‚úÖ –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
2. ‚úÖ –§–æ—Ä–º–∞ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞
3. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
4. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —à–∞–±–ª–æ–Ω

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
1. ‚úÖ –ö–ª–∏–∫ –Ω–∞ "–ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ"
2. ‚úÖ –í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
3. ‚úÖ –í—ã–±–æ—Ä –≥—Ä–∞—Ñ–∏–∫–∞
4. ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –í–∞–ª–∏–¥–∞—Ü–∏—è
1. ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å `endDate < startDate` ‚Üí –æ—à–∏–±–∫–∞
2. ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º > 365 –¥–Ω–µ–π ‚Üí –æ—à–∏–±–∫–∞
3. ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤ ‚Üí –æ—à–∏–±–∫–∞

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**
**–í—Å–µ –≤–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã!**
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!**
**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

## üìù –ó–ê–ú–ï–ß–ê–ù–ò–Ø

- –ï—Å—Ç—å TypeScript –æ—à–∏–±–∫–∏ –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö (–Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –Ω–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏

